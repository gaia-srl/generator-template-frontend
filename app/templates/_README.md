# <%= _.slugify(appName) %>

Welcome to your new project.

## Installation

    $ npm install
    $ bower install

## Overview

Assemble, Compass, API [TODO]

## Grunt

Boot up development server:

    $ grunt serve

    # if you wish to automatically open a browser window use the open option
    $ grunt serve --open

This will start the following servers:

 - [http://0.0.0.0:9000](http://0.0.0.0:9000) - development server (`app` directory)
 - [http://0.0.0.0:9001](http://0.0.0.0:9001) - API server

The API is proxied into `/api/`, so endpoints can be accessed on both ports (in case you wish to test CORS).

For example, the following requests will return the same response:

    http://0.0.0.0:9000/api/user/getProfile/123
    http://0.0.0.0:9001/api/user/getProfile/123

Unfortunately there is a [bug](https://github.com/blai/grunt-express/issues/37) with the NPM module that means we can't restart the API server automatically.
So if you make a change to any of the endpoints you need to stop and restart the server (`$ grunt serve`)

Compile project ready to deploy for QA

    $ grunt build

Compile project ready for release to client

    $ grunt release

    # to make a release without password protection use the no-auth option
    $ grunt release --no-auth

This task can also be configured to copy compiled files into another directory (e.g. a .Net project)

Update API docs (also happens during `build`)

    $ grunt apidocs

Launch servers for the dev and compiled projects (`build` must have been run at least once)

    $ grunt serve-all

This will start the following servers:

 - [http://0.0.0.0:9000](http://0.0.0.0:9000) - development server (`app` directory)
 - [http://0.0.0.0:9001](http://0.0.0.0:9001) - API server
 - [http://0.0.0.0:9002](http://0.0.0.0:9002) - compiled server (`dist` directory)

### Versioning

You can bump the project version using a grunt task, for example:

    $ grunt build --bump=minor

    $ grunt release --bump=major

Options are: `major`, `minor` or `patch`

## Structure

### Directories

 - `.sass-cache` - Automatically generated by Sass / Compass. Do not edit.
 - `.tmp` - Automatically generated by Grunt. Do not edit.
 - `app` - Source files for your project
 - `dist` - Compiled project
 - `test` - Test definitions and tools for your project

### Files you may wish to edit

 - `.jshintrc` - Settings for JSHint
 - `.bower` - Front end packages installed with [Bower.io](http://www.bower.io)
 - `Gruntfile.js` - the project Gruntfile
 - `package.json` - Node.js packages installed by NPM

## Regression tests

We've included a basic set up for [Wraith](https://github.com/BBC-News/wraith), however you need to complete the following steps to get it working.

First you need to install [Ruby](https://www.ruby-lang.org/), [Imagemagick](http://www.imagemagick.org/) and [PhantomJS](http://phantomjs.org/) or [SlimerJS](http://slimerjs.org/). Full instructions here:

[http://bbc-news.github.io/wraith/os-install.html](http://bbc-news.github.io/wraith/os-install.html)

Next install the Wraith package:

    $ bundle install

Once everything is installed change directory into the wraith directory:

    $ cd test/visual/wraith

And run the following commands:

    $ grunt serve-all
    $ wraith capture default

This will capture screenshots and their diffs and create a gallery here:

    test/visual/wraith/shots/gallery.html

Full instructions here: [test/visual/wraith/README.md](test/visual/wraith/README.md)